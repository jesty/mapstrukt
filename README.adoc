# Mapstrukt

This project aims to improve the support of Mapstruct to Kotlin.
This is a simple code generator that works beside the Mapstruct code generation, in order to add some extension functions to entities converted using Mapstruct.

So, you can use the converter method you definied, already on the source entity:

[source,kotlin]
----
val person = Person("Samuel", "Jackson", "0123 334466", LocalDate.of(1948, 12, 21))
val personDto = person.convertToDto()
----

instead of:

[source,kotlin]
----
val converter = Mappers.getMapper(PersonConverter::class.java)
val person = Person("Samuel", "Jackson", "0123 334466", LocalDate.of(1948, 12, 21))
val personDto = converter.convertToDto(person)
----

Under the hood what the generator does is to generate a Kotlin Object with some extension function, for instance, in the example above the generator creates:

[source,kotlin]
----
package com.github.jesty
  
import org.mapstruct.example.kotlin.dto.PersonDto
import org.mapstruct.example.kotlin.model.Person

object Mapstrukt {
    fun org.mapstruct.example.kotlin.model.Person.convertToDto(): PersonDto = org.mapstruct.factory.Mappers.getMapper(org.mapstruct.example.kotlin.converter.PersonConverter::class.java).convertToDto(this)

}
----
